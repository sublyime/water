{"ast":null,"code":"var _jsxFileName = \"C:\\\\water\\\\chemical-dispersion-app\\\\frontend\\\\src\\\\components\\\\Map\\\\DispersionMap.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Circle, useMap } from 'react-leaflet';\nimport { apiService } from '../../services/api';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport './DispersionMap.css';\n\n// Fix for default markers in react-leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\n// Fullscreen control component\nfunction FullscreenControl({\n  onToggle\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    const control = L.control({\n      position: 'topright'\n    });\n    control.onAdd = () => {\n      const button = L.DomUtil.create('button', 'leaflet-bar leaflet-control fullscreen-btn');\n      button.innerHTML = '⛶';\n      button.title = 'Toggle Fullscreen';\n      button.onclick = onToggle;\n      return button;\n    };\n    control.addTo(map);\n    return () => control.remove();\n  }, [map, onToggle]);\n  return null;\n}\n_s(FullscreenControl, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = FullscreenControl;\nfunction DispersionMap({\n  spills = [],\n  selectedSpill,\n  onSpillSelect,\n  calculateDispersion\n}) {\n  _s2();\n  const [dispersionData, setDispersionData] = useState(null);\n  const [isCalculating, setIsCalculating] = useState(false);\n  const [error, setError] = useState(null);\n  const [mapCenter] = useState([29.7604, -95.3698]); // Houston, TX\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [isPanelCollapsed, setIsPanelCollapsed] = useState(false);\n  const [weatherData, setWeatherData] = useState(null);\n  const [tidalData, setTidalData] = useState(null);\n  const [spillVisualizations, setSpillVisualizations] = useState({});\n  const calculationsInProgress = useRef(new Set());\n  const hasCalculatedRef = useRef(new Set());\n  const lastCalculationRef = useRef(null);\n  const mapRef = useRef(null);\n\n  // Load environmental data for selected spill\n  useEffect(() => {\n    if (selectedSpill !== null && selectedSpill !== void 0 && selectedSpill.latitude && selectedSpill !== null && selectedSpill !== void 0 && selectedSpill.longitude) {\n      loadEnvironmentalData(selectedSpill.latitude, selectedSpill.longitude);\n      if (!hasCalculatedRef.current.has(selectedSpill.id) && !isCalculating && lastCalculationRef.current !== selectedSpill.id) {\n        handleCalculateDispersion(selectedSpill.id);\n      }\n    }\n  }, [selectedSpill === null || selectedSpill === void 0 ? void 0 : selectedSpill.id]);\n\n  // Update spill visualizations when environmental data changes\n  useEffect(() => {\n    if (weatherData && tidalData && selectedSpill) {\n      updateSpillVisualization(selectedSpill);\n    }\n  }, [weatherData, tidalData, selectedSpill, dispersionData]);\n  const loadEnvironmentalData = async (lat, lng) => {\n    try {\n      const [weather, tides] = await Promise.all([apiService.getCurrentWeather(lat, lng).catch(err => {\n        console.warn('Weather data unavailable:', err);\n        return createMockWeather();\n      }), apiService.getTideForecast(lat, lng, 24).catch(err => {\n        console.warn('Tidal data unavailable:', err);\n        return [createMockTide()];\n      })]);\n      setWeatherData(weather);\n      setTidalData(Array.isArray(tides) ? tides[0] : tides);\n    } catch (error) {\n      console.error('Error loading environmental data:', error);\n      setWeatherData(createMockWeather());\n      setTidalData(createMockTide());\n    }\n  };\n  const createMockWeather = () => ({\n    temperature: 22.0,\n    windSpeed: 5.5,\n    windDirection: 180.0,\n    humidity: 65.0,\n    pressure: 1013.25,\n    visibility: 10.0,\n    weatherCondition: 'Partly Cloudy'\n  });\n  const createMockTide = () => ({\n    tideHeight: 1.2,\n    currentSpeed: 0.3,\n    currentDirection: 90,\n    time: new Date().toISOString()\n  });\n  const updateSpillVisualization = spill => {\n    if (!spill || !weatherData || !tidalData) return;\n\n    // Safely extract and validate numeric values\n    const volume = parseFloat(spill.volume) || 1000;\n    const windSpeed = parseFloat(weatherData.windSpeed) || 5;\n    const temperature = parseFloat(weatherData.temperature) || 20;\n    const currentSpeed = parseFloat(tidalData.currentSpeed) || 0.3;\n    const windDirection = parseFloat(weatherData.windDirection) || 0;\n    const currentDirection = parseFloat(tidalData.currentDirection) || 0;\n\n    // Calculate base radius from volume with safety checks\n    const baseRadius = Math.max(100, Math.sqrt(volume) * 2); // Minimum 100m radius\n\n    // Environmental factors with bounds checking\n    const windEffect = Math.min(Math.max(windSpeed / 10, 0.1), 2.0); // 0.1 to 2.0\n    const tideEffect = Math.min(Math.max(currentSpeed * 100, 0.1), 1.5); // 0.1 to 1.5\n    const tempEffect = Math.min(Math.max((temperature - 15) / 20, 0.5), 1.5); // 0.5 to 1.5\n\n    // Chemical properties effect (simplified)\n    const chemicalEffect = getChemicalSpreadFactor(spill.chemicalType);\n\n    // Calculate final radius with safety bounds\n    const calculatedRadius = baseRadius * (1 + windEffect + tideEffect + tempEffect) * chemicalEffect;\n    const finalRadius = Math.max(100, Math.min(calculatedRadius, 10000)); // Between 100m and 10km\n\n    // Calculate spread direction based on wind and current\n    const avgDirection = (windDirection + currentDirection) / 2;\n\n    // Ensure opacity is valid\n    const calculatedOpacity = Math.min(0.8, 0.3 + volume / 10000);\n    const finalOpacity = Math.max(0.1, Math.min(calculatedOpacity, 0.8));\n\n    // Validate all values before setting state\n    if (isFinite(finalRadius) && isFinite(avgDirection) && isFinite(finalOpacity)) {\n      setSpillVisualizations(prev => ({\n        ...prev,\n        [spill.id]: {\n          radius: finalRadius,\n          direction: avgDirection,\n          opacity: finalOpacity,\n          color: getSpillColor(spill.chemicalType, spill.priority)\n        }\n      }));\n    } else {\n      console.warn('Invalid visualization values calculated for spill:', spill.id);\n      // Set safe default values\n      setSpillVisualizations(prev => ({\n        ...prev,\n        [spill.id]: {\n          radius: 500,\n          // Default 500m radius\n          direction: 0,\n          opacity: 0.5,\n          color: getSpillColor(spill.chemicalType, spill.priority)\n        }\n      }));\n    }\n  };\n  const getChemicalSpreadFactor = chemicalType => {\n    if (!chemicalType) return 1.0;\n    const chemical = chemicalType.toLowerCase();\n    if (chemical.includes('oil') || chemical.includes('petroleum')) return 1.5;\n    if (chemical.includes('acid') || chemical.includes('toxic')) return 0.8;\n    if (chemical.includes('gas') || chemical.includes('volatile')) return 2.0;\n    return 1.0;\n  };\n  const getSpillColor = (chemicalType, priority) => {\n    if (priority === 'CRITICAL') return '#dc2626';\n    if (priority === 'HIGH') return '#ea580c';\n    if (!chemicalType) return '#3b82f6';\n    const chemical = chemicalType.toLowerCase();\n    if (chemical.includes('oil')) return '#92400e';\n    if (chemical.includes('toxic') || chemical.includes('acid')) return '#7c2d12';\n    if (chemical.includes('gas')) return '#4338ca';\n    return '#3b82f6';\n  };\n  const handleCalculateDispersion = async spillId => {\n    if (calculationsInProgress.current.has(spillId) || hasCalculatedRef.current.has(spillId) || lastCalculationRef.current === spillId) {\n      console.log(`[SKIP] Already calculating or calculated for spill ${spillId}`);\n      return;\n    }\n    setIsCalculating(true);\n    setError(null);\n    lastCalculationRef.current = spillId;\n    try {\n      console.log(`[CALCULATING] Starting dispersion for spill ${spillId}`);\n      const result = await calculateDispersion(spillId, 24);\n      setDispersionData(result);\n      hasCalculatedRef.current.add(spillId);\n      console.log(`[SUCCESS] Dispersion calculation completed for ${spillId}`);\n    } catch (error) {\n      console.error('Dispersion calculation failed:', error);\n      setError('Failed to calculate dispersion. Please try again.');\n      hasCalculatedRef.current.delete(spillId);\n    } finally {\n      setIsCalculating(false);\n    }\n  };\n  const handleManualCalculation = () => {\n    if (selectedSpill !== null && selectedSpill !== void 0 && selectedSpill.id) {\n      hasCalculatedRef.current.delete(selectedSpill.id);\n      lastCalculationRef.current = null;\n      handleCalculateDispersion(selectedSpill.id);\n    }\n  };\n  const handleEndIncident = async spillId => {\n    if (!spillId) return;\n    const confirmed = window.confirm('Are you sure you want to end this incident? This action cannot be undone.');\n    if (!confirmed) return;\n    try {\n      await apiService.updateSpillStatus(spillId, 'CLEANED_UP');\n      console.log(`Incident ${spillId} marked as cleaned up`);\n    } catch (error) {\n      console.error('Error ending incident:', error);\n      alert('Failed to end incident. Please try again.');\n    }\n  };\n  const toggleFullscreen = useCallback(() => {\n    setIsFullscreen(prev => !prev);\n  }, []);\n  const togglePanel = useCallback(() => {\n    setIsPanelCollapsed(prev => !prev);\n  }, []);\n  const createCustomIcon = spill => {\n    const color = getSpillColor(spill.chemicalType, spill.priority);\n    return L.divIcon({\n      className: 'custom-spill-marker',\n      html: `<div style=\"\n                background-color: ${color}; \n                width: 24px; \n                height: 24px; \n                border-radius: 50%; \n                border: 3px solid white;\n                box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: white;\n                font-weight: bold;\n                font-size: 12px;\n            \">${spill.priority === 'CRITICAL' ? '!' : spill.priority === 'HIGH' ? '⚠' : '●'}</div>`,\n      iconSize: [24, 24],\n      iconAnchor: [12, 12]\n    });\n  };\n\n  // Safety function to validate circle props\n  const getCircleProps = (viz, spill) => {\n    const radius = parseFloat(viz.radius);\n    const opacity = parseFloat(viz.opacity);\n\n    // Ensure all values are valid numbers\n    if (!isFinite(radius) || radius <= 0) {\n      console.warn(`Invalid radius for spill ${spill.id}:`, radius);\n      return null; // Don't render invalid circles\n    }\n    if (!isFinite(opacity) || opacity < 0 || opacity > 1) {\n      console.warn(`Invalid opacity for spill ${spill.id}:`, opacity);\n      return null;\n    }\n    return {\n      radius: Math.max(100, Math.min(radius, 10000)),\n      // Constrain between 100m and 10km\n      pathOptions: {\n        color: viz.color || '#3b82f6',\n        fillColor: viz.color || '#3b82f6',\n        fillOpacity: Math.max(0.1, Math.min(opacity * 0.3, 0.3)),\n        weight: 2,\n        opacity: Math.max(0.1, Math.min(opacity, 0.8))\n      }\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `dispersion-map-container ${isFullscreen ? 'fullscreen' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `control-panel ${isPanelCollapsed ? 'collapsed' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"panel-toggle\",\n        onClick: togglePanel,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `toggle-icon ${isPanelCollapsed ? 'collapsed' : ''}`,\n          children: isPanelCollapsed ? '▼' : '▲'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }, this), isPanelCollapsed ? 'Show Controls' : 'Hide Controls']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Chemical Dispersion Map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary btn-sm\",\n              onClick: toggleFullscreen,\n              children: isFullscreen ? '⤌ Exit Fullscreen' : '⤢ Fullscreen'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-controls\",\n          children: [selectedSpill && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-spill-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Selected: \", selectedSpill.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleManualCalculation,\n                disabled: isCalculating,\n                className: \"btn btn-primary btn-sm\",\n                children: isCalculating ? 'Calculating...' : 'Recalculate Dispersion'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEndIncident(selectedSpill.id),\n                className: \"btn btn-danger btn-sm\",\n                children: \"End Incident\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 29\n          }, this), (weatherData || tidalData) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"environmental-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Environmental Conditions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 33\n            }, this), weatherData && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"weather-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83C\\uDF21\\uFE0F \", weatherData.temperature, \"\\xB0C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83D\\uDCA8 \", weatherData.windSpeed, \" @ \", weatherData.windDirection, \"\\xB0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u2601\\uFE0F \", weatherData.weatherCondition]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 37\n            }, this), tidalData && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tide-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\uD83C\\uDF0A Tide: \", tidalData.tideHeight, \"m\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u27A1\\uFE0F Current: \", tidalData.currentSpeed, \" m/s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"map-legend\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Legend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-items\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"legend-marker critical\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Critical (>10,000L)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"legend-marker high\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"High Priority\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"legend-marker medium\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Medium Priority\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"legend-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"legend-marker cleaned\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Cleaned Up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error-icon\",\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(null),\n          className: \"btn btn-sm btn-secondary\",\n          children: \"Dismiss\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 17\n    }, this), isCalculating && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calculation-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculation-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Calculating dispersion model for \", selectedSpill === null || selectedSpill === void 0 ? void 0 : selectedSpill.name, \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        ref: mapRef,\n        center: mapCenter,\n        zoom: 11,\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        zoomControl: !isFullscreen,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FullscreenControl, {\n          onToggle: toggleFullscreen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 21\n        }, this), spills.map(spill => {\n          const viz = spillVisualizations[spill.id];\n          const circleProps = viz ? getCircleProps(viz, spill) : null;\n          return /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Marker, {\n              position: [spill.latitude, spill.longitude],\n              icon: createCustomIcon(spill),\n              eventHandlers: {\n                click: () => onSpillSelect(spill)\n              },\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spill-popup\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: spill.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 450,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Chemical:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 48\n                    }, this), \" \", spill.chemicalType]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Volume:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 48\n                    }, this), \" \", (spill.volume || 0).toLocaleString(), \"L\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Status:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 48\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `status ${spill.status.toLowerCase()}`,\n                      children: spill.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Priority:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 458,\n                      columnNumber: 48\n                    }, this), \" \", spill.priority]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Time:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 459,\n                      columnNumber: 48\n                    }, this), \" \", new Date(spill.spillTime).toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"popup-actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: handleManualCalculation,\n                      disabled: isCalculating,\n                      className: \"btn btn-sm btn-primary\",\n                      children: \"Calculate Dispersion\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 49\n                    }, this), spill.status !== 'CLEANED_UP' && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleEndIncident(spill.id),\n                      className: \"btn btn-sm btn-danger\",\n                      children: \"End Incident\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 33\n            }, this), circleProps && spill.id === (selectedSpill === null || selectedSpill === void 0 ? void 0 : selectedSpill.id) && /*#__PURE__*/_jsxDEV(Circle, {\n              center: [spill.latitude, spill.longitude],\n              radius: circleProps.radius,\n              pathOptions: circleProps.pathOptions,\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dispersion-popup\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: \"Dispersion Zone\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Affected Radius:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 52\n                    }, this), \" \", Math.round(circleProps.radius), \"m\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Calculation Time:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 493,\n                      columnNumber: 52\n                    }, this), \" \", dispersionData === null || dispersionData === void 0 ? void 0 : dispersionData.calculationTime]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Environmental Factors:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 52\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [\"Wind: \", weatherData === null || weatherData === void 0 ? void 0 : weatherData.windSpeed, \" @ \", weatherData === null || weatherData === void 0 ? void 0 : weatherData.windDirection, \"\\xB0\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [\"Current: \", tidalData === null || tidalData === void 0 ? void 0 : tidalData.currentSpeed, \" m/s\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [\"Temperature: \", weatherData === null || weatherData === void 0 ? void 0 : weatherData.temperature, \"\\xB0C\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 37\n            }, this)]\n          }, spill.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 29\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 13\n    }, this), selectedSpill && !isPanelCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spill-details-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: selectedSpill.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-secondary\",\n          onClick: () => onSpillSelect(null),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Incident Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Chemical:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: selectedSpill.chemicalType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Volume:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [(selectedSpill.volume || 0).toLocaleString(), \"L\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status ${selectedSpill.status.toLowerCase()}`,\n                children: selectedSpill.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Priority:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `priority ${selectedSpill.priority.toLowerCase()}`,\n                children: selectedSpill.priority\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Location:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [selectedSpill.latitude.toFixed(4), \", \", selectedSpill.longitude.toFixed(4)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Reported:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: new Date(selectedSpill.spillTime).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 25\n        }, this), dispersionData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Dispersion Analysis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"analysis-data\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Last Calculated:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 40\n              }, this), \" \", dispersionData.calculationTime]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Affected Area:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 40\n              }, this), \" \", dispersionData.affectedAreaKm2 || 0, \" km\\xB2\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Model:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 40\n              }, this), \" Enhanced Gaussian Plume\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleManualCalculation,\n            disabled: isCalculating,\n            className: \"btn btn-primary\",\n            children: isCalculating ? 'Calculating...' : 'Update Dispersion'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 29\n          }, this), selectedSpill.status !== 'CLEANED_UP' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEndIncident(selectedSpill.id),\n            className: \"btn btn-danger\",\n            children: \"End Incident\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 9\n  }, this);\n}\n_s2(DispersionMap, \"KgqcXVCDjLxu54+jAFCUQnd5ahU=\");\n_c2 = DispersionMap;\nexport default DispersionMap;\nvar _c, _c2;\n$RefreshReg$(_c, \"FullscreenControl\");\n$RefreshReg$(_c2, \"DispersionMap\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","MapContainer","TileLayer","Marker","Popup","Circle","useMap","apiService","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","FullscreenControl","onToggle","_s","map","control","position","onAdd","button","DomUtil","create","innerHTML","title","onclick","addTo","remove","_c","DispersionMap","spills","selectedSpill","onSpillSelect","calculateDispersion","_s2","dispersionData","setDispersionData","isCalculating","setIsCalculating","error","setError","mapCenter","isFullscreen","setIsFullscreen","isPanelCollapsed","setIsPanelCollapsed","weatherData","setWeatherData","tidalData","setTidalData","spillVisualizations","setSpillVisualizations","calculationsInProgress","Set","hasCalculatedRef","lastCalculationRef","mapRef","latitude","longitude","loadEnvironmentalData","current","has","id","handleCalculateDispersion","updateSpillVisualization","lat","lng","weather","tides","Promise","all","getCurrentWeather","catch","err","console","warn","createMockWeather","getTideForecast","createMockTide","Array","isArray","temperature","windSpeed","windDirection","humidity","pressure","visibility","weatherCondition","tideHeight","currentSpeed","currentDirection","time","Date","toISOString","spill","volume","parseFloat","baseRadius","Math","max","sqrt","windEffect","min","tideEffect","tempEffect","chemicalEffect","getChemicalSpreadFactor","chemicalType","calculatedRadius","finalRadius","avgDirection","calculatedOpacity","finalOpacity","isFinite","prev","radius","direction","opacity","color","getSpillColor","priority","chemical","toLowerCase","includes","spillId","log","result","add","delete","handleManualCalculation","handleEndIncident","confirmed","window","confirm","updateSpillStatus","alert","toggleFullscreen","togglePanel","createCustomIcon","divIcon","className","html","iconSize","iconAnchor","getCircleProps","viz","pathOptions","fillColor","fillOpacity","weight","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","name","disabled","ref","center","zoom","style","height","width","zoomControl","url","attribution","circleProps","Fragment","icon","eventHandlers","click","toLocaleString","status","spillTime","round","calculationTime","toFixed","affectedAreaKm2","_c2","$RefreshReg$"],"sources":["C:/water/chemical-dispersion-app/frontend/src/components/Map/DispersionMap.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Circle, useMap } from 'react-leaflet';\nimport { apiService } from '../../services/api';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport './DispersionMap.css';\n\n// Fix for default markers in react-leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\n// Fullscreen control component\nfunction FullscreenControl({ onToggle }) {\n    const map = useMap();\n    \n    useEffect(() => {\n        const control = L.control({ position: 'topright' });\n        control.onAdd = () => {\n            const button = L.DomUtil.create('button', 'leaflet-bar leaflet-control fullscreen-btn');\n            button.innerHTML = '⛶';\n            button.title = 'Toggle Fullscreen';\n            button.onclick = onToggle;\n            return button;\n        };\n        control.addTo(map);\n        return () => control.remove();\n    }, [map, onToggle]);\n\n    return null;\n}\n\nfunction DispersionMap({ spills = [], selectedSpill, onSpillSelect, calculateDispersion }) {\n    const [dispersionData, setDispersionData] = useState(null);\n    const [isCalculating, setIsCalculating] = useState(false);\n    const [error, setError] = useState(null);\n    const [mapCenter] = useState([29.7604, -95.3698]); // Houston, TX\n    const [isFullscreen, setIsFullscreen] = useState(false);\n    const [isPanelCollapsed, setIsPanelCollapsed] = useState(false);\n    const [weatherData, setWeatherData] = useState(null);\n    const [tidalData, setTidalData] = useState(null);\n    const [spillVisualizations, setSpillVisualizations] = useState({});\n\n    const calculationsInProgress = useRef(new Set());\n    const hasCalculatedRef = useRef(new Set());\n    const lastCalculationRef = useRef(null);\n    const mapRef = useRef(null);\n\n    // Load environmental data for selected spill\n    useEffect(() => {\n        if (selectedSpill?.latitude && selectedSpill?.longitude) {\n            loadEnvironmentalData(selectedSpill.latitude, selectedSpill.longitude);\n            if (!hasCalculatedRef.current.has(selectedSpill.id) && \n                !isCalculating && \n                lastCalculationRef.current !== selectedSpill.id) {\n                handleCalculateDispersion(selectedSpill.id);\n            }\n        }\n    }, [selectedSpill?.id]);\n\n    // Update spill visualizations when environmental data changes\n    useEffect(() => {\n        if (weatherData && tidalData && selectedSpill) {\n            updateSpillVisualization(selectedSpill);\n        }\n    }, [weatherData, tidalData, selectedSpill, dispersionData]);\n\n    const loadEnvironmentalData = async (lat, lng) => {\n        try {\n            const [weather, tides] = await Promise.all([\n                apiService.getCurrentWeather(lat, lng).catch(err => {\n                    console.warn('Weather data unavailable:', err);\n                    return createMockWeather();\n                }),\n                apiService.getTideForecast(lat, lng, 24).catch(err => {\n                    console.warn('Tidal data unavailable:', err);\n                    return [createMockTide()];\n                })\n            ]);\n            \n            setWeatherData(weather);\n            setTidalData(Array.isArray(tides) ? tides[0] : tides);\n        } catch (error) {\n            console.error('Error loading environmental data:', error);\n            setWeatherData(createMockWeather());\n            setTidalData(createMockTide());\n        }\n    };\n\n    const createMockWeather = () => ({\n        temperature: 22.0,\n        windSpeed: 5.5,\n        windDirection: 180.0,\n        humidity: 65.0,\n        pressure: 1013.25,\n        visibility: 10.0,\n        weatherCondition: 'Partly Cloudy'\n    });\n\n    const createMockTide = () => ({\n        tideHeight: 1.2,\n        currentSpeed: 0.3,\n        currentDirection: 90,\n        time: new Date().toISOString()\n    });\n\n    const updateSpillVisualization = (spill) => {\n        if (!spill || !weatherData || !tidalData) return;\n\n        // Safely extract and validate numeric values\n        const volume = parseFloat(spill.volume) || 1000;\n        const windSpeed = parseFloat(weatherData.windSpeed) || 5;\n        const temperature = parseFloat(weatherData.temperature) || 20;\n        const currentSpeed = parseFloat(tidalData.currentSpeed) || 0.3;\n        const windDirection = parseFloat(weatherData.windDirection) || 0;\n        const currentDirection = parseFloat(tidalData.currentDirection) || 0;\n\n        // Calculate base radius from volume with safety checks\n        const baseRadius = Math.max(100, Math.sqrt(volume) * 2); // Minimum 100m radius\n        \n        // Environmental factors with bounds checking\n        const windEffect = Math.min(Math.max(windSpeed / 10, 0.1), 2.0); // 0.1 to 2.0\n        const tideEffect = Math.min(Math.max(currentSpeed * 100, 0.1), 1.5); // 0.1 to 1.5\n        const tempEffect = Math.min(Math.max((temperature - 15) / 20, 0.5), 1.5); // 0.5 to 1.5\n        \n        // Chemical properties effect (simplified)\n        const chemicalEffect = getChemicalSpreadFactor(spill.chemicalType);\n        \n        // Calculate final radius with safety bounds\n        const calculatedRadius = baseRadius * (1 + windEffect + tideEffect + tempEffect) * chemicalEffect;\n        const finalRadius = Math.max(100, Math.min(calculatedRadius, 10000)); // Between 100m and 10km\n        \n        // Calculate spread direction based on wind and current\n        const avgDirection = (windDirection + currentDirection) / 2;\n        \n        // Ensure opacity is valid\n        const calculatedOpacity = Math.min(0.8, 0.3 + volume / 10000);\n        const finalOpacity = Math.max(0.1, Math.min(calculatedOpacity, 0.8));\n        \n        // Validate all values before setting state\n        if (isFinite(finalRadius) && isFinite(avgDirection) && isFinite(finalOpacity)) {\n            setSpillVisualizations(prev => ({\n                ...prev,\n                [spill.id]: {\n                    radius: finalRadius,\n                    direction: avgDirection,\n                    opacity: finalOpacity,\n                    color: getSpillColor(spill.chemicalType, spill.priority)\n                }\n            }));\n        } else {\n            console.warn('Invalid visualization values calculated for spill:', spill.id);\n            // Set safe default values\n            setSpillVisualizations(prev => ({\n                ...prev,\n                [spill.id]: {\n                    radius: 500, // Default 500m radius\n                    direction: 0,\n                    opacity: 0.5,\n                    color: getSpillColor(spill.chemicalType, spill.priority)\n                }\n            }));\n        }\n    };\n\n    const getChemicalSpreadFactor = (chemicalType) => {\n        if (!chemicalType) return 1.0;\n        const chemical = chemicalType.toLowerCase();\n        if (chemical.includes('oil') || chemical.includes('petroleum')) return 1.5;\n        if (chemical.includes('acid') || chemical.includes('toxic')) return 0.8;\n        if (chemical.includes('gas') || chemical.includes('volatile')) return 2.0;\n        return 1.0;\n    };\n\n    const getSpillColor = (chemicalType, priority) => {\n        if (priority === 'CRITICAL') return '#dc2626';\n        if (priority === 'HIGH') return '#ea580c';\n        if (!chemicalType) return '#3b82f6';\n        \n        const chemical = chemicalType.toLowerCase();\n        if (chemical.includes('oil')) return '#92400e';\n        if (chemical.includes('toxic') || chemical.includes('acid')) return '#7c2d12';\n        if (chemical.includes('gas')) return '#4338ca';\n        return '#3b82f6';\n    };\n\n    const handleCalculateDispersion = async (spillId) => {\n        if (calculationsInProgress.current.has(spillId) || \n            hasCalculatedRef.current.has(spillId) || \n            lastCalculationRef.current === spillId) {\n            console.log(`[SKIP] Already calculating or calculated for spill ${spillId}`);\n            return;\n        }\n\n        setIsCalculating(true);\n        setError(null);\n        lastCalculationRef.current = spillId;\n        \n        try {\n            console.log(`[CALCULATING] Starting dispersion for spill ${spillId}`);\n            \n            const result = await calculateDispersion(spillId, 24);\n            setDispersionData(result);\n            hasCalculatedRef.current.add(spillId);\n            \n            console.log(`[SUCCESS] Dispersion calculation completed for ${spillId}`);\n        } catch (error) {\n            console.error('Dispersion calculation failed:', error);\n            setError('Failed to calculate dispersion. Please try again.');\n            hasCalculatedRef.current.delete(spillId);\n        } finally {\n            setIsCalculating(false);\n        }\n    };\n\n    const handleManualCalculation = () => {\n        if (selectedSpill?.id) {\n            hasCalculatedRef.current.delete(selectedSpill.id);\n            lastCalculationRef.current = null;\n            handleCalculateDispersion(selectedSpill.id);\n        }\n    };\n\n    const handleEndIncident = async (spillId) => {\n        if (!spillId) return;\n        \n        const confirmed = window.confirm('Are you sure you want to end this incident? This action cannot be undone.');\n        if (!confirmed) return;\n        \n        try {\n            await apiService.updateSpillStatus(spillId, 'CLEANED_UP');\n            console.log(`Incident ${spillId} marked as cleaned up`);\n        } catch (error) {\n            console.error('Error ending incident:', error);\n            alert('Failed to end incident. Please try again.');\n        }\n    };\n\n    const toggleFullscreen = useCallback(() => {\n        setIsFullscreen(prev => !prev);\n    }, []);\n\n    const togglePanel = useCallback(() => {\n        setIsPanelCollapsed(prev => !prev);\n    }, []);\n\n    const createCustomIcon = (spill) => {\n        const color = getSpillColor(spill.chemicalType, spill.priority);\n        return L.divIcon({\n            className: 'custom-spill-marker',\n            html: `<div style=\"\n                background-color: ${color}; \n                width: 24px; \n                height: 24px; \n                border-radius: 50%; \n                border: 3px solid white;\n                box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: white;\n                font-weight: bold;\n                font-size: 12px;\n            \">${spill.priority === 'CRITICAL' ? '!' : spill.priority === 'HIGH' ? '⚠' : '●'}</div>`,\n            iconSize: [24, 24],\n            iconAnchor: [12, 12]\n        });\n    };\n\n    // Safety function to validate circle props\n    const getCircleProps = (viz, spill) => {\n        const radius = parseFloat(viz.radius);\n        const opacity = parseFloat(viz.opacity);\n        \n        // Ensure all values are valid numbers\n        if (!isFinite(radius) || radius <= 0) {\n            console.warn(`Invalid radius for spill ${spill.id}:`, radius);\n            return null; // Don't render invalid circles\n        }\n        \n        if (!isFinite(opacity) || opacity < 0 || opacity > 1) {\n            console.warn(`Invalid opacity for spill ${spill.id}:`, opacity);\n            return null;\n        }\n\n        return {\n            radius: Math.max(100, Math.min(radius, 10000)), // Constrain between 100m and 10km\n            pathOptions: {\n                color: viz.color || '#3b82f6',\n                fillColor: viz.color || '#3b82f6',\n                fillOpacity: Math.max(0.1, Math.min(opacity * 0.3, 0.3)),\n                weight: 2,\n                opacity: Math.max(0.1, Math.min(opacity, 0.8))\n            }\n        };\n    };\n\n    return (\n        <div className={`dispersion-map-container ${isFullscreen ? 'fullscreen' : ''}`}>\n            {/* Collapsible Control Panel */}\n            <div className={`control-panel ${isPanelCollapsed ? 'collapsed' : ''}`}>\n                <button className=\"panel-toggle\" onClick={togglePanel}>\n                    <span className={`toggle-icon ${isPanelCollapsed ? 'collapsed' : ''}`}>\n                        {isPanelCollapsed ? '▼' : '▲'}\n                    </span>\n                    {isPanelCollapsed ? 'Show Controls' : 'Hide Controls'}\n                </button>\n                \n                <div className=\"panel-content\">\n                    <div className=\"panel-header\">\n                        <h2>Chemical Dispersion Map</h2>\n                        <div className=\"header-actions\">\n                            <button \n                                className=\"btn btn-secondary btn-sm\"\n                                onClick={toggleFullscreen}\n                            >\n                                {isFullscreen ? '⤌ Exit Fullscreen' : '⤢ Fullscreen'}\n                            </button>\n                        </div>\n                    </div>\n\n                    {/* Map Controls */}\n                    <div className=\"map-controls\">\n                        {selectedSpill && (\n                            <div className=\"selected-spill-controls\">\n                                <h3>Selected: {selectedSpill.name}</h3>\n                                <div className=\"control-buttons\">\n                                    <button \n                                        onClick={handleManualCalculation}\n                                        disabled={isCalculating}\n                                        className=\"btn btn-primary btn-sm\"\n                                    >\n                                        {isCalculating ? 'Calculating...' : 'Recalculate Dispersion'}\n                                    </button>\n                                    <button \n                                        onClick={() => handleEndIncident(selectedSpill.id)}\n                                        className=\"btn btn-danger btn-sm\"\n                                    >\n                                        End Incident\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n\n                         {/* Environmental Data Display */}\n                        {(weatherData || tidalData) && (\n                            <div className=\"environmental-data\">\n                                <h4>Environmental Conditions</h4>\n                                {weatherData && (\n                                    <div className=\"weather-summary\">\n                                        <span>🌡️ {weatherData.temperature}°C</span>\n                                        <span>💨 {weatherData.windSpeed} @ {weatherData.windDirection}°</span>\n                                        <span>☁️ {weatherData.weatherCondition}</span>\n                                    </div>\n                                )}\n                                {tidalData && (\n                                    <div className=\"tide-summary\">\n                                        <span>🌊 Tide: {tidalData.tideHeight}m</span>\n                                        <span>➡️ Current: {tidalData.currentSpeed} m/s</span>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n\n                        {/* Legend */}\n                        <div className=\"map-legend\">\n                            <h4>Legend</h4>\n                            <div className=\"legend-items\">\n                                <div className=\"legend-item\">\n                                    <div className=\"legend-marker critical\"></div>\n                                    <span>Critical (&gt;10,000L)</span>\n                                </div>\n                                <div className=\"legend-item\">\n                                    <div className=\"legend-marker high\"></div>\n                                    <span>High Priority</span>\n                                </div>\n                                <div className=\"legend-item\">\n                                    <div className=\"legend-marker medium\"></div>\n                                    <span>Medium Priority</span>\n                                </div>\n                                <div className=\"legend-item\">\n                                    <div className=\"legend-marker cleaned\"></div>\n                                    <span>Cleaned Up</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            {/* Error Display */}\n            {error && (\n                <div className=\"error-overlay\">\n                    <div className=\"error-content\">\n                        <span className=\"error-icon\">⚠️</span>\n                        <p>{error}</p>\n                        <button onClick={() => setError(null)} className=\"btn btn-sm btn-secondary\">\n                            Dismiss\n                        </button>\n                    </div>\n                </div>\n            )}\n\n            {/* Calculation Status */}\n            {isCalculating && (\n                <div className=\"calculation-overlay\">\n                    <div className=\"calculation-content\">\n                        <div className=\"loading-spinner\"></div>\n                        <p>Calculating dispersion model for {selectedSpill?.name}...</p>\n                    </div>\n                </div>\n            )}\n\n            {/* Map Container */}\n            <div className=\"map-wrapper\">\n                <MapContainer \n                    ref={mapRef}\n                    center={mapCenter} \n                    zoom={11} \n                    style={{ height: '100%', width: '100%' }}\n                    zoomControl={!isFullscreen}\n                >\n                    <TileLayer\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                    />\n                    \n                    <FullscreenControl onToggle={toggleFullscreen} />\n                    \n                    {/* Render spill markers with dynamic visualizations */}\n                    {spills.map((spill) => {\n                        const viz = spillVisualizations[spill.id];\n                        const circleProps = viz ? getCircleProps(viz, spill) : null;\n                        \n                        return (\n                            <React.Fragment key={spill.id}>\n                                <Marker\n                                    position={[spill.latitude, spill.longitude]}\n                                    icon={createCustomIcon(spill)}\n                                    eventHandlers={{\n                                        click: () => onSpillSelect(spill)\n                                    }}\n                                >\n                                    <Popup>\n                                        <div className=\"spill-popup\">\n                                            <h4>{spill.name}</h4>\n                                            <p><strong>Chemical:</strong> {spill.chemicalType}</p>\n                                            <p><strong>Volume:</strong> {(spill.volume || 0).toLocaleString()}L</p>\n                                            <p><strong>Status:</strong> \n                                                <span className={`status ${spill.status.toLowerCase()}`}>\n                                                    {spill.status}\n                                                </span>\n                                            </p>\n                                            <p><strong>Priority:</strong> {spill.priority}</p>\n                                            <p><strong>Time:</strong> {new Date(spill.spillTime).toLocaleString()}</p>\n                                            \n                                            <div className=\"popup-actions\">\n                                                <button \n                                                    onClick={handleManualCalculation}\n                                                    disabled={isCalculating}\n                                                    className=\"btn btn-sm btn-primary\"\n                                                >\n                                                    Calculate Dispersion\n                                                </button>\n                                                {spill.status !== 'CLEANED_UP' && (\n                                                    <button \n                                                        onClick={() => handleEndIncident(spill.id)}\n                                                        className=\"btn btn-sm btn-danger\"\n                                                    >\n                                                        End Incident\n                                                    </button>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </Popup>\n                                </Marker>\n                                \n                                {/* Dynamic dispersion visualization - only render if valid */}\n                                {circleProps && spill.id === selectedSpill?.id && (\n                                    <Circle\n                                        center={[spill.latitude, spill.longitude]}\n                                        radius={circleProps.radius}\n                                        pathOptions={circleProps.pathOptions}\n                                    >\n                                        <Popup>\n                                            <div className=\"dispersion-popup\">\n                                                <h4>Dispersion Zone</h4>\n                                                <p><strong>Affected Radius:</strong> {Math.round(circleProps.radius)}m</p>\n                                                <p><strong>Calculation Time:</strong> {dispersionData?.calculationTime}</p>\n                                                <p><strong>Environmental Factors:</strong></p>\n                                                <ul>\n                                                    <li>Wind: {weatherData?.windSpeed} @ {weatherData?.windDirection}°</li>\n                                                    <li>Current: {tidalData?.currentSpeed} m/s</li>\n                                                    <li>Temperature: {weatherData?.temperature}°C</li>\n                                                </ul>\n                                            </div>\n                                        </Popup>\n                                    </Circle>\n                                )}\n                            </React.Fragment>\n                        );\n                    })}\n                </MapContainer>\n            </div>\n\n            {/* Spill Details Panel (when selected) */}\n            {selectedSpill && !isPanelCollapsed && (\n                <div className=\"spill-details-sidebar\">\n                    <div className=\"sidebar-header\">\n                        <h3>{selectedSpill.name}</h3>\n                        <button \n                            className=\"btn btn-sm btn-secondary\"\n                            onClick={() => onSpillSelect(null)}\n                        >\n                            ✕\n                        </button>\n                    </div>\n                    \n                    <div className=\"sidebar-content\">\n                        <div className=\"detail-section\">\n                            <h4>Incident Details</h4>\n                            <div className=\"detail-grid\">\n                                <div className=\"detail-item\">\n                                    <label>Chemical:</label>\n                                    <span>{selectedSpill.chemicalType}</span>\n                                </div>\n                                <div className=\"detail-item\">\n                                    <label>Volume:</label>\n                                    <span>{(selectedSpill.volume || 0).toLocaleString()}L</span>\n                                </div>\n                                <div className=\"detail-item\">\n                                    <label>Status:</label>\n                                    <span className={`status ${selectedSpill.status.toLowerCase()}`}>\n                                        {selectedSpill.status}\n                                    </span>\n                                </div>\n                                <div className=\"detail-item\">\n                                    <label>Priority:</label>\n                                    <span className={`priority ${selectedSpill.priority.toLowerCase()}`}>\n                                        {selectedSpill.priority}\n                                    </span>\n                                </div>\n                                <div className=\"detail-item\">\n                                    <label>Location:</label>\n                                    <span>{selectedSpill.latitude.toFixed(4)}, {selectedSpill.longitude.toFixed(4)}</span>\n                                </div>\n                                <div className=\"detail-item\">\n                                    <label>Reported:</label>\n                                    <span>{new Date(selectedSpill.spillTime).toLocaleString()}</span>\n                                </div>\n                            </div>\n                        </div>\n\n                        {dispersionData && (\n                            <div className=\"detail-section\">\n                                <h4>Dispersion Analysis</h4>\n                                <div className=\"analysis-data\">\n                                    <p><strong>Last Calculated:</strong> {dispersionData.calculationTime}</p>\n                                    <p><strong>Affected Area:</strong> {dispersionData.affectedAreaKm2 || 0} km²</p>\n                                    <p><strong>Model:</strong> Enhanced Gaussian Plume</p>\n                                </div>\n                            </div>\n                        )}\n\n                        <div className=\"sidebar-actions\">\n                            <button \n                                onClick={handleManualCalculation}\n                                disabled={isCalculating}\n                                className=\"btn btn-primary\"\n                            >\n                                {isCalculating ? 'Calculating...' : 'Update Dispersion'}\n                            </button>\n                            {selectedSpill.status !== 'CLEANED_UP' && (\n                                <button \n                                    onClick={() => handleEndIncident(selectedSpill.id)}\n                                    className=\"btn btn-danger\"\n                                >\n                                    End Incident\n                                </button>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default DispersionMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}