{"ast":null,"code":"var _jsxFileName = \"C:\\\\water\\\\chemical-dispersion-app\\\\frontend\\\\src\\\\components\\\\Map\\\\DispersionMap.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Circle, Polygon, useMap, WMSTileLayer } from 'react-leaflet';\nimport L from 'leaflet';\nimport toast from 'react-hot-toast';\nimport { apiService } from '../../services/api';\nimport MapControls from './MapControls';\nimport './DispersionMap.css';\n\n// Fix for default markers\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\n\n// Custom spill icon (base64 SVG for water drop with warning)\nconst spillIcon = new L.Icon({\n  iconUrl: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTAiIGZpbGw9IiNEQzI2MjYiLz4KPHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBzdHlsZT0ieC1vZmZzZXQ6IDZweDsgeTpvZmZzZXQ6IDZweDsiPgo8cGF0aCBkPSJNNiAyVjEwTTIgNkgxMCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+Cjwvc3ZnPgo=',\n  iconSize: [24, 24],\n  iconAnchor: [12, 12],\n  popupAnchor: [0, -12]\n});\nconst DispersionMap = ({\n  spills,\n  selectedSpill,\n  onSpillSelected\n}) => {\n  _s();\n  var _dispersionData$affec;\n  const [map, setMap] = useState(null);\n  const [dispersionData, setDispersionData] = useState(null);\n  const [isCalculating, setIsCalculating] = useState(false);\n  const [showDispersion, setShowDispersion] = useState(true);\n  const [simulationHours, setSimulationHours] = useState(24);\n  const [mapCenter, setMapCenter] = useState([40.7128, -74.0060]); // Default to NYC\n  const [zoom, setZoom] = useState(8);\n  useEffect(() => {\n    if (selectedSpill) {\n      const lat = parseFloat(selectedSpill.latitude);\n      const lng = parseFloat(selectedSpill.longitude);\n      setMapCenter([lat, lng]);\n      setZoom(12);\n      calculateDispersion(selectedSpill.id);\n    }\n  }, [selectedSpill]);\n  const calculateDispersion = async spillId => {\n    if (isCalculating) return;\n    setIsCalculating(true);\n    toast.loading('Calculating chemical dispersion...', {\n      id: 'dispersion-calc'\n    });\n    try {\n      const result = await apiService.calculateDispersion(spillId, simulationHours);\n      setDispersionData(result);\n      toast.success('Dispersion calculation completed!', {\n        id: 'dispersion-calc'\n      });\n    } catch (error) {\n      console.error('Error calculating dispersion:', error);\n      toast.error('Failed to calculate dispersion: ' + error.message, {\n        id: 'dispersion-calc'\n      });\n    } finally {\n      setIsCalculating(false);\n    }\n  };\n  const renderSpillMarkers = () => {\n    return spills.map(spill => /*#__PURE__*/_jsxDEV(Marker, {\n      position: [parseFloat(spill.latitude), parseFloat(spill.longitude)],\n      icon: spillIcon,\n      eventHandlers: {\n        click: () => onSpillSelected(spill)\n      },\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spill-popup\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: spill.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popup-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Chemical:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 18\n              }, this), \" \", spill.chemicalType]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Volume:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 18\n              }, this), \" \", spill.volume.toLocaleString(), \" L\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Time:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 18\n              }, this), \" \", new Date(spill.spillTime).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 18\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge status-${spill.status.toLowerCase()}`,\n                children: spill.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 43\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popup-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-primary\",\n              onClick: () => calculateDispersion(spill.id),\n              disabled: isCalculating,\n              children: isCalculating ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"btn-spinner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 34\n              }, this) : 'Calculate Dispersion'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, spill.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this));\n  };\n  const renderDispersion = () => {\n    if (!showDispersion || !dispersionData) return null;\n    const contours = dispersionData.plumeContours.map(contour => /*#__PURE__*/_jsxDEV(Polygon, {\n      positions: contour.coordinates.map(point => [point.latitude, point.longitude]),\n      pathOptions: {\n        color: getContourColor(contour.concentrationLevel),\n        weight: 2,\n        fillOpacity: 0.3\n      }\n    }, contour.concentrationLevel, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this));\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [contours, dispersionData.concentrationGrid.map((point, index) => /*#__PURE__*/_jsxDEV(Circle, {\n        center: [point.latitude, point.longitude],\n        radius: Math.sqrt(point.concentration) * 10 // Scale radius by concentration\n        ,\n        pathOptions: {\n          color: getConcentrationColor(point.concentration),\n          fillOpacity: 0.5\n        }\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true);\n  };\n  const getContourColor = level => {\n    switch (level) {\n      case '1.0 mg/L':\n        return '#00ff00';\n      case '10.0 mg/L':\n        return '#ffff00';\n      case '100.0 mg/L':\n        return '#ff9900';\n      case '1000.0 mg/L':\n        return '#ff0000';\n      default:\n        return '#000000';\n    }\n  };\n  const getConcentrationColor = conc => {\n    if (conc < 1) return 'green';\n    if (conc < 10) return 'yellow';\n    if (conc < 100) return 'orange';\n    return 'red';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dispersion-map-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Spill Dispersion Map\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Real-time water chemical spill tracking and dispersion modeling\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MapControls, {\n        simulationHours: simulationHours,\n        onSimulationHoursChange: setSimulationHours,\n        showDispersion: showDispersion,\n        onShowDispersionToggle: setShowDispersion,\n        onCalculateDispersion: () => selectedSpill && calculateDispersion(selectedSpill.id),\n        isCalculating: isCalculating,\n        hasSelectedSpill: !!selectedSpill\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n        center: mapCenter,\n        zoom: zoom,\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        ref: setMap,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(WMSTileLayer, {\n          url: \"http://localhost:8888/?SERVICE=WMS\" // Your QGIS server URL\n          ,\n          layers: \"water_dispersion_layer\" // Your QGIS layer name\n          ,\n          format: \"image/png\",\n          transparent: true,\n          version: \"1.3.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), renderSpillMarkers(), renderDispersion()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), isCalculating && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-loading-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Calculating Dispersion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Processing fluid dynamics and environmental data...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-fill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), dispersionData && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"map-legend\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Dispersion Legend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-items\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-color\",\n              style: {\n                background: 'green'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this), \"Low Concentration (<1 mg/L)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-color\",\n              style: {\n                background: 'yellow'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), \"Medium (1-10 mg/L)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-color\",\n              style: {\n                background: 'orange'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), \"High (10-100 mg/L)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-color\",\n              style: {\n                background: 'red'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), \"Critical (>100 mg/L)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Max Concentration:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 18\n            }, this), \" \", dispersionData.maxConcentration.toFixed(3), \" mg/L\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Affected Area:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 18\n            }, this), \" \", (_dispersionData$affec = dispersionData.affectedAreaKm2) === null || _dispersionData$affec === void 0 ? void 0 : _dispersionData$affec.toFixed(2), \" km\\xB2\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spills-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Active Spills\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spills-list\",\n        children: activeSpills.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-spills\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No active spills\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Click \\\"New Incident\\\" to report a spill\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this) : activeSpills.map(spill => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `spill-item ${(selectedSpill === null || selectedSpill === void 0 ? void 0 : selectedSpill.id) === spill.id ? 'selected' : ''}`,\n          onClick: () => onSpillSelected(spill),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spill-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: spill.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status-badge status-${spill.status.toLowerCase()}`,\n              children: spill.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spill-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Chemical:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 22\n              }, this), \" \", spill.chemicalType]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Volume:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 22\n              }, this), \" \", spill.volume.toLocaleString(), \" L\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Location:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 22\n              }, this), \" \", parseFloat(spill.latitude).toFixed(4), \", \", parseFloat(spill.longitude).toFixed(4)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Time:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 22\n              }, this), \" \", new Date(spill.spillTime).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this)]\n        }, spill.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n};\n_s(DispersionMap, \"OeLkP5aeOA+yshPXIQ5gcqQz1kE=\");\n_c = DispersionMap;\nexport default DispersionMap;\nvar _c;\n$RefreshReg$(_c, \"DispersionMap\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MapContainer","TileLayer","Marker","Popup","Circle","Polygon","useMap","WMSTileLayer","L","toast","apiService","MapControls","jsxDEV","_jsxDEV","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","spillIcon","iconSize","iconAnchor","popupAnchor","DispersionMap","spills","selectedSpill","onSpillSelected","_s","_dispersionData$affec","map","setMap","dispersionData","setDispersionData","isCalculating","setIsCalculating","showDispersion","setShowDispersion","simulationHours","setSimulationHours","mapCenter","setMapCenter","zoom","setZoom","lat","parseFloat","latitude","lng","longitude","calculateDispersion","id","spillId","loading","result","success","error","console","message","renderSpillMarkers","spill","position","icon","eventHandlers","click","children","className","name","fileName","_jsxFileName","lineNumber","columnNumber","chemicalType","volume","toLocaleString","Date","spillTime","status","toLowerCase","onClick","disabled","renderDispersion","contours","plumeContours","contour","positions","coordinates","point","pathOptions","color","getContourColor","concentrationLevel","weight","fillOpacity","concentrationGrid","index","center","radius","Math","sqrt","concentration","getConcentrationColor","level","conc","onSimulationHoursChange","onShowDispersionToggle","onCalculateDispersion","hasSelectedSpill","style","height","width","ref","url","attribution","layers","format","transparent","version","background","maxConcentration","toFixed","affectedAreaKm2","activeSpills","length","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/water/chemical-dispersion-app/frontend/src/components/Map/DispersionMap.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Circle, Polygon, useMap, WMSTileLayer } from 'react-leaflet';\nimport L from 'leaflet';\nimport toast from 'react-hot-toast';\nimport { apiService } from '../../services/api';\nimport MapControls from './MapControls';\nimport './DispersionMap.css';\n\n// Fix for default markers\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\n// Custom spill icon (base64 SVG for water drop with warning)\nconst spillIcon = new L.Icon({\n  iconUrl: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTAiIGZpbGw9IiNEQzI2MjYiLz4KPHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBzdHlsZT0ieC1vZmZzZXQ6IDZweDsgeTpvZmZzZXQ6IDZweDsiPgo8cGF0aCBkPSJNNiAyVjEwTTIgNkgxMCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+Cjwvc3ZnPgo=',\n  iconSize: [24, 24],\n  iconAnchor: [12, 12],\n  popupAnchor: [0, -12],\n});\n\nconst DispersionMap = ({ spills, selectedSpill, onSpillSelected }) => {\n  const [map, setMap] = useState(null);\n  const [dispersionData, setDispersionData] = useState(null);\n  const [isCalculating, setIsCalculating] = useState(false);\n  const [showDispersion, setShowDispersion] = useState(true);\n  const [simulationHours, setSimulationHours] = useState(24);\n  const [mapCenter, setMapCenter] = useState([40.7128, -74.0060]); // Default to NYC\n  const [zoom, setZoom] = useState(8);\n\n  useEffect(() => {\n    if (selectedSpill) {\n      const lat = parseFloat(selectedSpill.latitude);\n      const lng = parseFloat(selectedSpill.longitude);\n      setMapCenter([lat, lng]);\n      setZoom(12);\n      calculateDispersion(selectedSpill.id);\n    }\n  }, [selectedSpill]);\n\n  const calculateDispersion = async (spillId) => {\n    if (isCalculating) return;\n    setIsCalculating(true);\n    toast.loading('Calculating chemical dispersion...', { id: 'dispersion-calc' });\n    try {\n      const result = await apiService.calculateDispersion(spillId, simulationHours);\n      setDispersionData(result);\n      toast.success('Dispersion calculation completed!', { id: 'dispersion-calc' });\n    } catch (error) {\n      console.error('Error calculating dispersion:', error);\n      toast.error('Failed to calculate dispersion: ' + error.message, { id: 'dispersion-calc' });\n    } finally {\n      setIsCalculating(false);\n    }\n  };\n\n  const renderSpillMarkers = () => {\n    return spills.map(spill => (\n      <Marker\n        key={spill.id}\n        position={[parseFloat(spill.latitude), parseFloat(spill.longitude)]}\n        icon={spillIcon}\n        eventHandlers={{\n          click: () => onSpillSelected(spill),\n        }}\n      >\n        <Popup>\n          <div className=\"spill-popup\">\n            <h3>{spill.name}</h3>\n            <div className=\"popup-details\">\n              <p><strong>Chemical:</strong> {spill.chemicalType}</p>\n              <p><strong>Volume:</strong> {spill.volume.toLocaleString()} L</p>\n              <p><strong>Time:</strong> {new Date(spill.spillTime).toLocaleString()}</p>\n              <p><strong>Status:</strong> <span className={`status-badge status-${spill.status.toLowerCase()}`}>{spill.status}</span></p>\n            </div>\n            <div className=\"popup-actions\">\n              <button className=\"btn btn-sm btn-primary\" onClick={() => calculateDispersion(spill.id)} disabled={isCalculating}>\n                {isCalculating ? <span className=\"btn-spinner\"></span> : 'Calculate Dispersion'}\n              </button>\n            </div>\n          </div>\n        </Popup>\n      </Marker>\n    ));\n  };\n\n  const renderDispersion = () => {\n    if (!showDispersion || !dispersionData) return null;\n\n    const contours = dispersionData.plumeContours.map(contour => (\n      <Polygon\n        key={contour.concentrationLevel}\n        positions={contour.coordinates.map(point => [point.latitude, point.longitude])}\n        pathOptions={{ color: getContourColor(contour.concentrationLevel), weight: 2, fillOpacity: 0.3 }}\n      />\n    ));\n\n    return (\n      <>\n        {contours}\n        {dispersionData.concentrationGrid.map((point, index) => (\n          <Circle\n            key={index}\n            center={[point.latitude, point.longitude]}\n            radius={Math.sqrt(point.concentration) * 10} // Scale radius by concentration\n            pathOptions={{ color: getConcentrationColor(point.concentration), fillOpacity: 0.5 }}\n          />\n        ))}\n      </>\n    );\n  };\n\n  const getContourColor = (level) => {\n    switch (level) {\n      case '1.0 mg/L': return '#00ff00';\n      case '10.0 mg/L': return '#ffff00';\n      case '100.0 mg/L': return '#ff9900';\n      case '1000.0 mg/L': return '#ff0000';\n      default: return '#000000';\n    }\n  };\n\n  const getConcentrationColor = (conc) => {\n    if (conc < 1) return 'green';\n    if (conc < 10) return 'yellow';\n    if (conc < 100) return 'orange';\n    return 'red';\n  };\n\n  return (\n    <div className=\"dispersion-map-container\">\n      <div className=\"map-header\">\n        <div className=\"map-title\">\n          <h2>Spill Dispersion Map</h2>\n          <p>Real-time water chemical spill tracking and dispersion modeling</p>\n        </div>\n        <MapControls\n          simulationHours={simulationHours}\n          onSimulationHoursChange={setSimulationHours}\n          showDispersion={showDispersion}\n          onShowDispersionToggle={setShowDispersion}\n          onCalculateDispersion={() => selectedSpill && calculateDispersion(selectedSpill.id)}\n          isCalculating={isCalculating}\n          hasSelectedSpill={!!selectedSpill}\n        />\n      </div>\n      <div className=\"map-wrapper\">\n        <MapContainer center={mapCenter} zoom={zoom} style={{ height: '100%', width: '100%' }} ref={setMap}>\n          <TileLayer\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          />\n          {/* QGIS WMS Layer for custom mapping */}\n          <WMSTileLayer\n            url=\"http://localhost:8888/?SERVICE=WMS\" // Your QGIS server URL\n            layers=\"water_dispersion_layer\" // Your QGIS layer name\n            format=\"image/png\"\n            transparent={true}\n            version=\"1.3.0\"\n          />\n          {renderSpillMarkers()}\n          {renderDispersion()}\n        </MapContainer>\n        {isCalculating && (\n          <div className=\"map-loading-overlay\">\n            <div className=\"loading-content\">\n              <div className=\"loading-spinner\"></div>\n              <h3>Calculating Dispersion</h3>\n              <p>Processing fluid dynamics and environmental data...</p>\n              <div className=\"progress-bar\">\n                <div className=\"progress-fill\"></div>\n              </div>\n            </div>\n          </div>\n        )}\n        {dispersionData && (\n          <div className=\"map-legend\">\n            <h4>Dispersion Legend</h4>\n            <div className=\"legend-items\">\n              <div className=\"legend-item\">\n                <div className=\"legend-color\" style={{ background: 'green' }}></div>\n                Low Concentration (&lt;1 mg/L)\n              </div>\n              <div className=\"legend-item\">\n                <div className=\"legend-color\" style={{ background: 'yellow' }}></div>\n                Medium (1-10 mg/L)\n              </div>\n              <div className=\"legend-item\">\n                <div className=\"legend-color\" style={{ background: 'orange' }}></div>\n                High (10-100 mg/L)\n              </div>\n              <div className=\"legend-item\">\n                <div className=\"legend-color\" style={{ background: 'red' }}></div>\n                Critical (&gt;100 mg/L)\n              </div>\n            </div>\n            <div className=\"legend-stats\">\n              <p><strong>Max Concentration:</strong> {dispersionData.maxConcentration.toFixed(3)} mg/L</p>\n              <p><strong>Affected Area:</strong> {dispersionData.affectedAreaKm2?.toFixed(2)} kmÂ²</p>\n            </div>\n          </div>\n        )}\n      </div>\n      <div className=\"spills-sidebar\">\n        <h3>Active Spills</h3>\n        <div className=\"spills-list\">\n          {activeSpills.length === 0 ? (\n            <div className=\"no-spills\">\n              <p>No active spills</p>\n              <small>Click \"New Incident\" to report a spill</small>\n            </div>\n          ) : (\n            activeSpills.map(spill => (\n              <div\n                key={spill.id}\n                className={`spill-item ${selectedSpill?.id === spill.id ? 'selected' : ''}`}\n                onClick={() => onSpillSelected(spill)}\n              >\n                <div className=\"spill-header\">\n                  <h4>{spill.name}</h4>\n                  <span className={`status-badge status-${spill.status.toLowerCase()}`}>{spill.status}</span>\n                </div>\n                <div className=\"spill-details\">\n                  <p><strong>Chemical:</strong> {spill.chemicalType}</p>\n                  <p><strong>Volume:</strong> {spill.volume.toLocaleString()} L</p>\n                  <p><strong>Location:</strong> {parseFloat(spill.latitude).toFixed(4)}, {parseFloat(spill.longitude).toFixed(4)}</p>\n                  <p><strong>Time:</strong> {new Date(spill.spillTime).toLocaleDateString()}</p>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DispersionMap;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,OAAO,EAAEC,MAAM,EAAEC,YAAY,QAAQ,eAAe;AAC7G,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAOC,KAAK,MAAM,iBAAiB;AACnC,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAO,qBAAqB;;AAE5B;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,OAAOP,CAAC,CAACQ,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CX,CAAC,CAACQ,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAE,gFAAgF;EAC/FC,OAAO,EAAE,6EAA6E;EACtFC,SAAS,EAAE;AACb,CAAC,CAAC;;AAEF;AACA,MAAMC,SAAS,GAAG,IAAIhB,CAAC,CAACQ,IAAI,CAAC;EAC3BM,OAAO,EAAE,ghBAAghB;EACzhBG,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EACpBC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;AACtB,CAAC,CAAC;AAEF,MAAMC,aAAa,GAAGA,CAAC;EAAEC,MAAM;EAAEC,aAAa;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EACpE,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGtC,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAACuC,cAAc,EAAEC,iBAAiB,CAAC,GAAGxC,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACyC,aAAa,EAAEC,gBAAgB,CAAC,GAAG1C,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAAC2C,cAAc,EAAEC,iBAAiB,CAAC,GAAG5C,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAAC6C,eAAe,EAAEC,kBAAkB,CAAC,GAAG9C,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAAC+C,SAAS,EAAEC,YAAY,CAAC,GAAGhD,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;EACjE,MAAM,CAACiD,IAAI,EAAEC,OAAO,CAAC,GAAGlD,QAAQ,CAAC,CAAC,CAAC;EAEnCC,SAAS,CAAC,MAAM;IACd,IAAIgC,aAAa,EAAE;MACjB,MAAMkB,GAAG,GAAGC,UAAU,CAACnB,aAAa,CAACoB,QAAQ,CAAC;MAC9C,MAAMC,GAAG,GAAGF,UAAU,CAACnB,aAAa,CAACsB,SAAS,CAAC;MAC/CP,YAAY,CAAC,CAACG,GAAG,EAAEG,GAAG,CAAC,CAAC;MACxBJ,OAAO,CAAC,EAAE,CAAC;MACXM,mBAAmB,CAACvB,aAAa,CAACwB,EAAE,CAAC;IACvC;EACF,CAAC,EAAE,CAACxB,aAAa,CAAC,CAAC;EAEnB,MAAMuB,mBAAmB,GAAG,MAAOE,OAAO,IAAK;IAC7C,IAAIjB,aAAa,EAAE;IACnBC,gBAAgB,CAAC,IAAI,CAAC;IACtB9B,KAAK,CAAC+C,OAAO,CAAC,oCAAoC,EAAE;MAAEF,EAAE,EAAE;IAAkB,CAAC,CAAC;IAC9E,IAAI;MACF,MAAMG,MAAM,GAAG,MAAM/C,UAAU,CAAC2C,mBAAmB,CAACE,OAAO,EAAEb,eAAe,CAAC;MAC7EL,iBAAiB,CAACoB,MAAM,CAAC;MACzBhD,KAAK,CAACiD,OAAO,CAAC,mCAAmC,EAAE;QAAEJ,EAAE,EAAE;MAAkB,CAAC,CAAC;IAC/E,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDlD,KAAK,CAACkD,KAAK,CAAC,kCAAkC,GAAGA,KAAK,CAACE,OAAO,EAAE;QAAEP,EAAE,EAAE;MAAkB,CAAC,CAAC;IAC5F,CAAC,SAAS;MACRf,gBAAgB,CAAC,KAAK,CAAC;IACzB;EACF,CAAC;EAED,MAAMuB,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,OAAOjC,MAAM,CAACK,GAAG,CAAC6B,KAAK,iBACrBlD,OAAA,CAACX,MAAM;MAEL8D,QAAQ,EAAE,CAACf,UAAU,CAACc,KAAK,CAACb,QAAQ,CAAC,EAAED,UAAU,CAACc,KAAK,CAACX,SAAS,CAAC,CAAE;MACpEa,IAAI,EAAEzC,SAAU;MAChB0C,aAAa,EAAE;QACbC,KAAK,EAAEA,CAAA,KAAMpC,eAAe,CAACgC,KAAK;MACpC,CAAE;MAAAK,QAAA,eAEFvD,OAAA,CAACV,KAAK;QAAAiE,QAAA,eACJvD,OAAA;UAAKwD,SAAS,EAAC,aAAa;UAAAD,QAAA,gBAC1BvD,OAAA;YAAAuD,QAAA,EAAKL,KAAK,CAACO;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACrB7D,OAAA;YAAKwD,SAAS,EAAC,eAAe;YAAAD,QAAA,gBAC5BvD,OAAA;cAAAuD,QAAA,gBAAGvD,OAAA;gBAAAuD,QAAA,EAAQ;cAAS;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACX,KAAK,CAACY,YAAY;YAAA;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtD7D,OAAA;cAAAuD,QAAA,gBAAGvD,OAAA;gBAAAuD,QAAA,EAAQ;cAAO;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACX,KAAK,CAACa,MAAM,CAACC,cAAc,CAAC,CAAC,EAAC,IAAE;YAAA;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACjE7D,OAAA;cAAAuD,QAAA,gBAAGvD,OAAA;gBAAAuD,QAAA,EAAQ;cAAK;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAAC,IAAII,IAAI,CAACf,KAAK,CAACgB,SAAS,CAAC,CAACF,cAAc,CAAC,CAAC;YAAA;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC1E7D,OAAA;cAAAuD,QAAA,gBAAGvD,OAAA;gBAAAuD,QAAA,EAAQ;cAAO;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,eAAA7D,OAAA;gBAAMwD,SAAS,EAAE,uBAAuBN,KAAK,CAACiB,MAAM,CAACC,WAAW,CAAC,CAAC,EAAG;gBAAAb,QAAA,EAAEL,KAAK,CAACiB;cAAM;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxH,CAAC,eACN7D,OAAA;YAAKwD,SAAS,EAAC,eAAe;YAAAD,QAAA,eAC5BvD,OAAA;cAAQwD,SAAS,EAAC,wBAAwB;cAACa,OAAO,EAAEA,CAAA,KAAM7B,mBAAmB,CAACU,KAAK,CAACT,EAAE,CAAE;cAAC6B,QAAQ,EAAE7C,aAAc;cAAA8B,QAAA,EAC9G9B,aAAa,gBAAGzB,OAAA;gBAAMwD,SAAS,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,GAAG;YAAsB;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC,GAtBHX,KAAK,CAACT,EAAE;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAuBP,CACT,CAAC;EACJ,CAAC;EAED,MAAMU,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAI,CAAC5C,cAAc,IAAI,CAACJ,cAAc,EAAE,OAAO,IAAI;IAEnD,MAAMiD,QAAQ,GAAGjD,cAAc,CAACkD,aAAa,CAACpD,GAAG,CAACqD,OAAO,iBACvD1E,OAAA,CAACR,OAAO;MAENmF,SAAS,EAAED,OAAO,CAACE,WAAW,CAACvD,GAAG,CAACwD,KAAK,IAAI,CAACA,KAAK,CAACxC,QAAQ,EAAEwC,KAAK,CAACtC,SAAS,CAAC,CAAE;MAC/EuC,WAAW,EAAE;QAAEC,KAAK,EAAEC,eAAe,CAACN,OAAO,CAACO,kBAAkB,CAAC;QAAEC,MAAM,EAAE,CAAC;QAAEC,WAAW,EAAE;MAAI;IAAE,GAF5FT,OAAO,CAACO,kBAAkB;MAAAvB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGhC,CACF,CAAC;IAEF,oBACE7D,OAAA,CAAAE,SAAA;MAAAqD,QAAA,GACGiB,QAAQ,EACRjD,cAAc,CAAC6D,iBAAiB,CAAC/D,GAAG,CAAC,CAACwD,KAAK,EAAEQ,KAAK,kBACjDrF,OAAA,CAACT,MAAM;QAEL+F,MAAM,EAAE,CAACT,KAAK,CAACxC,QAAQ,EAAEwC,KAAK,CAACtC,SAAS,CAAE;QAC1CgD,MAAM,EAAEC,IAAI,CAACC,IAAI,CAACZ,KAAK,CAACa,aAAa,CAAC,GAAG,EAAG,CAAC;QAAA;QAC7CZ,WAAW,EAAE;UAAEC,KAAK,EAAEY,qBAAqB,CAACd,KAAK,CAACa,aAAa,CAAC;UAAEP,WAAW,EAAE;QAAI;MAAE,GAHhFE,KAAK;QAAA3B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIX,CACF,CAAC;IAAA,eACF,CAAC;EAEP,CAAC;EAED,MAAMmB,eAAe,GAAIY,KAAK,IAAK;IACjC,QAAQA,KAAK;MACX,KAAK,UAAU;QAAE,OAAO,SAAS;MACjC,KAAK,WAAW;QAAE,OAAO,SAAS;MAClC,KAAK,YAAY;QAAE,OAAO,SAAS;MACnC,KAAK,aAAa;QAAE,OAAO,SAAS;MACpC;QAAS,OAAO,SAAS;IAC3B;EACF,CAAC;EAED,MAAMD,qBAAqB,GAAIE,IAAI,IAAK;IACtC,IAAIA,IAAI,GAAG,CAAC,EAAE,OAAO,OAAO;IAC5B,IAAIA,IAAI,GAAG,EAAE,EAAE,OAAO,QAAQ;IAC9B,IAAIA,IAAI,GAAG,GAAG,EAAE,OAAO,QAAQ;IAC/B,OAAO,KAAK;EACd,CAAC;EAED,oBACE7F,OAAA;IAAKwD,SAAS,EAAC,0BAA0B;IAAAD,QAAA,gBACvCvD,OAAA;MAAKwD,SAAS,EAAC,YAAY;MAAAD,QAAA,gBACzBvD,OAAA;QAAKwD,SAAS,EAAC,WAAW;QAAAD,QAAA,gBACxBvD,OAAA;UAAAuD,QAAA,EAAI;QAAoB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC7B7D,OAAA;UAAAuD,QAAA,EAAG;QAA+D;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC,eACN7D,OAAA,CAACF,WAAW;QACV+B,eAAe,EAAEA,eAAgB;QACjCiE,uBAAuB,EAAEhE,kBAAmB;QAC5CH,cAAc,EAAEA,cAAe;QAC/BoE,sBAAsB,EAAEnE,iBAAkB;QAC1CoE,qBAAqB,EAAEA,CAAA,KAAM/E,aAAa,IAAIuB,mBAAmB,CAACvB,aAAa,CAACwB,EAAE,CAAE;QACpFhB,aAAa,EAAEA,aAAc;QAC7BwE,gBAAgB,EAAE,CAAC,CAAChF;MAAc;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACN7D,OAAA;MAAKwD,SAAS,EAAC,aAAa;MAAAD,QAAA,gBAC1BvD,OAAA,CAACb,YAAY;QAACmG,MAAM,EAAEvD,SAAU;QAACE,IAAI,EAAEA,IAAK;QAACiE,KAAK,EAAE;UAAEC,MAAM,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAO,CAAE;QAACC,GAAG,EAAE/E,MAAO;QAAAiC,QAAA,gBACjGvD,OAAA,CAACZ,SAAS;UACRkH,GAAG,EAAC,oDAAoD;UACxDC,WAAW,EAAC;QAAyF;UAAA7C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtG,CAAC,eAEF7D,OAAA,CAACN,YAAY;UACX4G,GAAG,EAAC,oCAAoC,CAAC;UAAA;UACzCE,MAAM,EAAC,wBAAwB,CAAC;UAAA;UAChCC,MAAM,EAAC,WAAW;UAClBC,WAAW,EAAE,IAAK;UAClBC,OAAO,EAAC;QAAO;UAAAjD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC,EACDZ,kBAAkB,CAAC,CAAC,EACpBsB,gBAAgB,CAAC,CAAC;MAAA;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC,EACdpC,aAAa,iBACZzB,OAAA;QAAKwD,SAAS,EAAC,qBAAqB;QAAAD,QAAA,eAClCvD,OAAA;UAAKwD,SAAS,EAAC,iBAAiB;UAAAD,QAAA,gBAC9BvD,OAAA;YAAKwD,SAAS,EAAC;UAAiB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvC7D,OAAA;YAAAuD,QAAA,EAAI;UAAsB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/B7D,OAAA;YAAAuD,QAAA,EAAG;UAAmD;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC1D7D,OAAA;YAAKwD,SAAS,EAAC,cAAc;YAAAD,QAAA,eAC3BvD,OAAA;cAAKwD,SAAS,EAAC;YAAe;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EACAtC,cAAc,iBACbvB,OAAA;QAAKwD,SAAS,EAAC,YAAY;QAAAD,QAAA,gBACzBvD,OAAA;UAAAuD,QAAA,EAAI;QAAiB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC1B7D,OAAA;UAAKwD,SAAS,EAAC,cAAc;UAAAD,QAAA,gBAC3BvD,OAAA;YAAKwD,SAAS,EAAC,aAAa;YAAAD,QAAA,gBAC1BvD,OAAA;cAAKwD,SAAS,EAAC,cAAc;cAAC0C,KAAK,EAAE;gBAAEU,UAAU,EAAE;cAAQ;YAAE;cAAAlD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,+BAEtE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN7D,OAAA;YAAKwD,SAAS,EAAC,aAAa;YAAAD,QAAA,gBAC1BvD,OAAA;cAAKwD,SAAS,EAAC,cAAc;cAAC0C,KAAK,EAAE;gBAAEU,UAAU,EAAE;cAAS;YAAE;cAAAlD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,sBAEvE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN7D,OAAA;YAAKwD,SAAS,EAAC,aAAa;YAAAD,QAAA,gBAC1BvD,OAAA;cAAKwD,SAAS,EAAC,cAAc;cAAC0C,KAAK,EAAE;gBAAEU,UAAU,EAAE;cAAS;YAAE;cAAAlD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,sBAEvE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN7D,OAAA;YAAKwD,SAAS,EAAC,aAAa;YAAAD,QAAA,gBAC1BvD,OAAA;cAAKwD,SAAS,EAAC,cAAc;cAAC0C,KAAK,EAAE;gBAAEU,UAAU,EAAE;cAAM;YAAE;cAAAlD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,wBAEpE;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,cAAc;UAAAD,QAAA,gBAC3BvD,OAAA;YAAAuD,QAAA,gBAAGvD,OAAA;cAAAuD,QAAA,EAAQ;YAAkB;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACtC,cAAc,CAACsF,gBAAgB,CAACC,OAAO,CAAC,CAAC,CAAC,EAAC,OAAK;UAAA;YAAApD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC5F7D,OAAA;YAAAuD,QAAA,gBAAGvD,OAAA;cAAAuD,QAAA,EAAQ;YAAc;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,GAAAzC,qBAAA,GAACG,cAAc,CAACwF,eAAe,cAAA3F,qBAAA,uBAA9BA,qBAAA,CAAgC0F,OAAO,CAAC,CAAC,CAAC,EAAC,SAAI;UAAA;YAAApD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eACN7D,OAAA;MAAKwD,SAAS,EAAC,gBAAgB;MAAAD,QAAA,gBAC7BvD,OAAA;QAAAuD,QAAA,EAAI;MAAa;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtB7D,OAAA;QAAKwD,SAAS,EAAC,aAAa;QAAAD,QAAA,EACzByD,YAAY,CAACC,MAAM,KAAK,CAAC,gBACxBjH,OAAA;UAAKwD,SAAS,EAAC,WAAW;UAAAD,QAAA,gBACxBvD,OAAA;YAAAuD,QAAA,EAAG;UAAgB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACvB7D,OAAA;YAAAuD,QAAA,EAAO;UAAsC;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,GAENmD,YAAY,CAAC3F,GAAG,CAAC6B,KAAK,iBACpBlD,OAAA;UAEEwD,SAAS,EAAE,cAAc,CAAAvC,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEwB,EAAE,MAAKS,KAAK,CAACT,EAAE,GAAG,UAAU,GAAG,EAAE,EAAG;UAC5E4B,OAAO,EAAEA,CAAA,KAAMnD,eAAe,CAACgC,KAAK,CAAE;UAAAK,QAAA,gBAEtCvD,OAAA;YAAKwD,SAAS,EAAC,cAAc;YAAAD,QAAA,gBAC3BvD,OAAA;cAAAuD,QAAA,EAAKL,KAAK,CAACO;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACrB7D,OAAA;cAAMwD,SAAS,EAAE,uBAAuBN,KAAK,CAACiB,MAAM,CAACC,WAAW,CAAC,CAAC,EAAG;cAAAb,QAAA,EAAEL,KAAK,CAACiB;YAAM;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxF,CAAC,eACN7D,OAAA;YAAKwD,SAAS,EAAC,eAAe;YAAAD,QAAA,gBAC5BvD,OAAA;cAAAuD,QAAA,gBAAGvD,OAAA;gBAAAuD,QAAA,EAAQ;cAAS;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACX,KAAK,CAACY,YAAY;YAAA;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtD7D,OAAA;cAAAuD,QAAA,gBAAGvD,OAAA;gBAAAuD,QAAA,EAAQ;cAAO;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACX,KAAK,CAACa,MAAM,CAACC,cAAc,CAAC,CAAC,EAAC,IAAE;YAAA;cAAAN,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACjE7D,OAAA;cAAAuD,QAAA,gBAAGvD,OAAA;gBAAAuD,QAAA,EAAQ;cAAS;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACzB,UAAU,CAACc,KAAK,CAACb,QAAQ,CAAC,CAACyE,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE,EAAC1E,UAAU,CAACc,KAAK,CAACX,SAAS,CAAC,CAACuE,OAAO,CAAC,CAAC,CAAC;YAAA;cAAApD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnH7D,OAAA;cAAAuD,QAAA,gBAAGvD,OAAA;gBAAAuD,QAAA,EAAQ;cAAK;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAAC,IAAII,IAAI,CAACf,KAAK,CAACgB,SAAS,CAAC,CAACgD,kBAAkB,CAAC,CAAC;YAAA;cAAAxD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3E,CAAC;QAAA,GAbDX,KAAK,CAACT,EAAE;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAcV,CACN;MACF;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC1C,EAAA,CAtNIJ,aAAa;AAAAoG,EAAA,GAAbpG,aAAa;AAwNnB,eAAeA,aAAa;AAAC,IAAAoG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}